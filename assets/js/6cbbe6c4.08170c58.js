"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[4762],{2126:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>l,contentTitle:()=>a,default:()=>c,frontMatter:()=>i,metadata:()=>r,toc:()=>u});const r=JSON.parse('{"id":"Tests/Entra-Attributes/ENTRA.UA.1014","title":"ENTRA.UA.1014 - All users should have a sponsor set","description":"Ensures all users should have a valid sponsor attribute","source":"@site/docs/Tests/Entra-Attributes/ENTRA.UA.1014.md","sourceDirName":"Tests/Entra-Attributes","slug":"/Tests/Entra-Attributes/ENTRA.UA.1014","permalink":"/Custom-Maester-Tests/docs/Tests/Entra-Attributes/ENTRA.UA.1014","draft":false,"unlisted":false,"editUrl":"https://github.com/DevClate/Custom-Maester-Tests/edit/main/website/docs/Tests/Entra-Attributes/ENTRA.UA.1014.md","tags":[],"version":"current","frontMatter":{"title":"ENTRA.UA.1014 - All users should have a sponsor set","description":"Ensures all users should have a valid sponsor attribute"},"sidebar":"tutorialSidebar","previous":{"title":"ENTRA.UA.1013 - All users should have a fax number set","permalink":"/Custom-Maester-Tests/docs/Tests/Entra-Attributes/ENTRA.UA.1013"},"next":{"title":"ENTRA.UA.1015 - All users should have an employee hire date set","permalink":"/Custom-Maester-Tests/docs/Tests/Entra-Attributes/ENTRA.UA.1015"}}');var n=t(4848),o=t(8453);const i={title:"ENTRA.UA.1014 - All users should have a sponsor set",description:"Ensures all users should have a valid sponsor attribute"},a=void 0,l={},u=[{value:"All users should have a sponsor set",id:"all-users-should-have-a-sponsor-set",level:2},{value:"Description",id:"description",level:2},{value:"How to fix",id:"how-to-fix",level:2},{value:"Related links",id:"related-links",level:2}];function d(e){const s={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h2,{id:"all-users-should-have-a-sponsor-set",children:"All users should have a sponsor set"}),"\n",(0,n.jsx)(s.h2,{id:"description",children:"Description"}),"\n",(0,n.jsx)(s.p,{children:"All users should specify a sponsor for accountability and reference. This is often used for contract or external resources."}),"\n",(0,n.jsx)(s.h2,{id:"how-to-fix",children:"How to fix"}),"\n",(0,n.jsx)(s.p,{children:"Confirm with HR the correct sponsor."}),"\n",(0,n.jsx)(s.p,{children:"Then run:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-powershell",children:'\n        # Build the request body for the POST operation\n        $Body = @{\n            \'@odata.id\' = "https://graph.microsoft.com/v1.0/users/SPONSORID"\n        }\n\n        # Create the sponsor reference URI for the  user\n        $Uri = "https://graph.microsoft.com/v1.0/users/USERID/sponsors/`$ref"\n\n        # Update sponsor\n        Invoke-MgGraphRequest -Uri $Uri -Method POST -Body $Body\n\n'})}),"\n",(0,n.jsx)(s.h2,{id:"related-links",children:"Related links"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"https://entra.microsoft.com/#view/Microsoft_AAD_UsersAndTenants/UserManagementMenuBlade/~/AllUsers/menuId/",children:"Microsoft Entra admin center - Users"})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"https://learn.microsoft.com/en-us/powershell/module/microsoft.graph.authentication/invoke-mggraphrequest?view=graph-powershell-1.0#examples",children:"Invoke-MgGraphRequest - Microsoft Graph Reference"})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"https://learn.microsoft.com/en-us/graph/api/user-post-sponsors?view=graph-rest-1.0&tabs=http",children:"Add Sponsor - Microsoft Graph v1.0 - Microsoft Learn"})}),"\n"]})]})}function c(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},8453:(e,s,t)=>{t.d(s,{R:()=>i,x:()=>a});var r=t(6540);const n={},o=r.createContext(n);function i(e){const s=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),r.createElement(o.Provider,{value:s},e.children)}}}]);